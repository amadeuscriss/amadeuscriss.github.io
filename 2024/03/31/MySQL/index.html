
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>MySQl | 知更白翎の屋</title>
    <meta name="author" content="知更白翎" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>知更白翎の屋</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
        <a href="/links/">
            <i class="fa-solid fa-Friends's Links fa-fw"></i>
            <span>&ensp;Links</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;知更白翎の屋</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
                <a href="/links/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-Friends's Links fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Links</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>MySQl</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/3/31
        </span>
        
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="MySQL知识内容"><a href="#MySQL知识内容" class="headerlink" title="MySQL知识内容"></a>MySQL知识内容</h1><h2 id="一、基础知识内容"><a href="#一、基础知识内容" class="headerlink" title="一、基础知识内容"></a>一、基础知识内容</h2><h3 id="1-1-基础结构"><a href="#1-1-基础结构" class="headerlink" title="1.1 基础结构"></a>1.1 基础结构</h3><blockquote>
<p>relations 关系 和 attributes 属性</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319152633667.png" alt="image-20240319152633667"></p>
<h3 id="1-2完整性约束"><a href="#1-2完整性约束" class="headerlink" title="1.2完整性约束"></a>1.2完整性约束</h3><blockquote>
<p>Domain integrity（域完整性）、Entity integrity（实体完整性）、Referential integrity（参照完整性）</p>
</blockquote>
<h4 id="Domain-integrity（域完整性）"><a href="#Domain-integrity（域完整性）" class="headerlink" title="Domain integrity（域完整性）"></a>Domain integrity（域完整性）</h4><p>规定每一列数据所能存贮的类型</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319153032589.png" alt="image-20240319153032589"></p>
<h4 id="Entity-integrity（实体完整性）"><a href="#Entity-integrity（实体完整性）" class="headerlink" title="Entity integrity（实体完整性）"></a>Entity integrity（实体完整性）</h4><blockquote>
<p>每一张表对于所有的数据都应该有一个特定的标识，即主键</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319153343100.png" alt="image-20240319153343100"></p>
<p>每个学生都有的序号就是主键，主键可以是<code>一个栏目</code>也可以是<code>多个</code></p>
<p>值得注意的是，可以将多个键组合在一起构成数据的独特性，键可以重复，但键的组合不能重复</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319153729002.png" alt="image-20240319153729002"></p>
<h5 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h5><blockquote>
<p>在一组关系中的一个属性或一系列属性在其他关系中是主键的属性叫做外键</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319154753549.png" alt="image-20240319154753549"></p>
<h4 id="Referential-integrity（参照完整性）"><a href="#Referential-integrity（参照完整性）" class="headerlink" title="Referential integrity（参照完整性）"></a>Referential integrity（参照完整性）</h4><blockquote>
<p>在使用外键时，只有在外键与另一表中的主键的相同数据才会被组合在一起。一个表对另一个表的引用仅限于表中已经存在的相同数据</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319160311308.png" alt="image-20240319160311308"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319160322152.png" alt="image-20240319160322152"></p>
<h3 id="1-3操作"><a href="#1-3操作" class="headerlink" title="1.3操作"></a>1.3操作</h3><blockquote>
<p>数据库的三种操作符，Project（对象）、Restrict | Select（限制|选择）、Join（加入）</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319160559760.png" alt="image-20240319160559760"></p>
<h4 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h4><blockquote>
<p>选取相应列数据的操作</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319162213335.png" alt="image-20240319162213335"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319162308254.png" alt="image-20240319162308254"></p>
<h4 id="Restrict"><a href="#Restrict" class="headerlink" title="Restrict"></a>Restrict</h4><blockquote>
<p>增加限制的数据访问</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319162808590.png" alt="image-20240319162808590"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319163049648.png" alt="image-20240319163049648"></p>
<h4 id="Join"><a href="#Join" class="headerlink" title="Join"></a>Join</h4><blockquote>
<p>获取表间的关联数据</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319163251513.png" alt="image-20240319163251513"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240319163413094.png" alt="image-20240319163413094"></p>
<h4 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h4><p>以上对关系表的操作返回的结果也是关系表，这意味着我们或许可以使用嵌套的形式对数据进行</p>
<h5 id="列的重命名"><a href="#列的重命名" class="headerlink" title="列的重命名"></a>列的重命名</h5><pre><code class="sql">SELECT name AS tag, salary / 12 AS monthlysalary FROM employee;
</code></pre>
<p>此处salary&#x2F;12是对salary列进行的一次运算，as 之后是对这一结果列的重新命名,name也是同理。</p>
<h5 id="表的重命名"><a href="#表的重命名" class="headerlink" title="表的重命名"></a>表的重命名</h5><pre><code class="sql">SELECT name, deptname 
FROM employee AS e, department AS d 
WHERE e.deptno = d.deptno;
</code></pre>
<p><code>employee</code>表被重命名为<code>e</code>，<code>department</code>表被重命名为<code>d</code>，以便在查询中使用更简洁的名称。这种重命名有助于减少查询语句的长度，并使它们更易于阅读.这是针对表的重命名。</p>
<h5 id="多重条件查找"><a href="#多重条件查找" class="headerlink" title="多重条件查找"></a>多重条件查找</h5><pre><code class="sql">SELECT name FROM employee AS e, department AS d 
WHERE e.deptno = d.deptno
AND d.division = &#39;D1&#39;
AND d.office = &#39;Lansdowne&#39;;
</code></pre>
<p>Find the names of the employees who <code>work in the  Lansdowne</code> office of division <code>D1</code></p>
<h5 id="选择条件查找"><a href="#选择条件查找" class="headerlink" title="选择条件查找"></a>选择条件查找</h5><pre><code class="sql">SELECT name FROM employee AS e, department AS d 
WHERE e.deptno=d.deptno
AND (d.office=&#39;Belfield&#39; OR d.office=&#39;Lansdowne’);
</code></pre>
<p>Find the names of the employees who work in <code>either the  Lansdowne office or the Belfield</code></p>
<h5 id="特殊细节筛选"><a href="#特殊细节筛选" class="headerlink" title="特殊细节筛选"></a>特殊细节筛选</h5><p>Find the details of all employees where the second letter  of their name is ‘e’:</p>
<pre><code class="sql">SELECT * FROM employee WHERE name LIKE &#39;_e%&#39;;
</code></pre>
<p>The ‘_’ represents any single character. </p>
<p>The ‘%’ represents any number of characters.</p>
<p>Find the details of all employees who’s job title contains  exactly seven letters:</p>
<pre><code class="sql">SELECT * FROM employee WHERE job like &#39;_______&#39;;
</code></pre>
<h5 id="Null值的筛选"><a href="#Null值的筛选" class="headerlink" title="Null值的筛选"></a>Null值的筛选</h5><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326222747800.png" alt="image-20240326222747800"></p>
<h5 id="确保返回值唯一"><a href="#确保返回值唯一" class="headerlink" title="确保返回值唯一"></a>确保返回值唯一</h5><pre><code class="sql">SELECT DISTINCT column_name
FROM table_name;
</code></pre>
<p><code>SELECT DISTINCT</code>: 这是查询语句的一部分，用于指定要选择唯一值的列。</p>
<p><code>column_name</code>: 要选择唯一值的列的名称。</p>
<p><code>FROM table_name</code>: 这是查询语句的一部分，用于指定从哪个表中选择数据</p>
<h5 id="表的连结"><a href="#表的连结" class="headerlink" title="表的连结"></a>表的连结</h5><pre><code class="sql">SELECT attr_expr [AS alias] &#123;, attr_expr [AS alias] &#125;
FROM table [AS alias ] &#123; [ JoinType] JOIN table [AS alias] ON JoinConditions &#125;
[ WHERE OtherCondition ]
</code></pre>
<p><code>SELECT attr_expr [AS alias] &#123;, attr_expr [AS alias] &#125;</code>: 指定要选择的列，<code>attr_expr</code>是一个属性表达式，可以是列名、计算表达式或者聚合函数。<code>AS alias</code>是可选的，用于给选择的列指定别名。</p>
<p><code>FROM table [AS alias]</code>: 指定从哪个表中选择数据，<code>table</code>是表名，可以是单个表，也可以是多个表的组合。<code>AS alias</code>是可选的，用于给表指定别名。</p>
<p><code>&#123; [ JoinType] JOIN table [AS alias] ON JoinConditions &#125;</code>: 定义表之间的连接操作，<code>JoinType</code>是可选的连接类型，例如：INNER JOIN、LEFT JOIN等。<code>table</code>是要连接的另一个表，<code>ON JoinConditions</code>是连接条件。</p>
<p><code>[ WHERE OtherCondition ]</code>: 可选的筛选条件，用于过滤选择的数据。</p>
<h6 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h6><p>考虑以下查询，它从 employees 和 departments 表中选择数据，并根据员工的部门号与部门表中的部门号匹配，同时只选择 department_id 为 1 的部门，并且计算员工的年薪（salary * 12）：</p>
<pre><code class="sql">SELECT e.name AS employee_name, e.salary * 12 AS annual_salary, d.name AS department_name
FROM employees AS e
JOIN departments AS d ON e.department_id = d.department_id
WHERE d.department_id = 1;
</code></pre>
<p>这个查询的含义是：从 <code>employees</code> 表中选择员工的名字（别名为 <code>employee_name</code>）、计算的年薪（别名为 <code>annual_salary</code>），以及从 <code>departments</code> 表中选择部门的名字（别名为 <code>department_name</code>）。通过内连接（INNER JOIN），根据员工的部门号与部门表中的部门号匹配。只选择 <code>department_id</code> 为 1 的部门，即计算所选择的员工的部门为 1 的部门的年薪。</p>
<h6 id="连结类别"><a href="#连结类别" class="headerlink" title="连结类别"></a>连结类别</h6><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240327160615578.png" alt="image-20240327160615578"></p>
<p>INNER JOIN</p>
<blockquote>
<p><code>INNER JOIN</code>返回两个表中满足某个条件的所有记录。如果在一个表中存在一个记录，在另一个表中没有与之匹配的记录，那么结果集中将不包含此记录。</p>
</blockquote>
<pre><code class="sql">
SELECT table1.column, table2.column
FROM table1
INNER JOIN table2
ON table1.common_field = table2.common_field;
</code></pre>
<p>LEFT JOIN</p>
<blockquote>
<p><code>LEFT JOIN</code>返回左表中的所有记录和右表中与之匹配的记录。如果在左表中存在一个记录，在右表中没有与之匹配的记录，那么结果集中将包含此记录，但所有右表的列都为空。</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240327162404426.png" alt="image-20240327162404426"></p>
<p><strong>FROM  之前是左表，之后是右表</strong></p>
<p>RIGHT JOIN</p>
<blockquote>
<p><code>RIGHT JOIN</code>返回右表中的所有记录和左表中与之匹配的记录。如果在右表中存在一个记录，在左表中没有与之匹配的记录，那么结果集中将包含此记录，但所有左表的列都为空</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240327162621975.png" alt="image-20240327162621975"></p>
<p>FULL JOIN</p>
<blockquote>
<p>返回左表和右表中所有的记录。如果某个表中的记录在另一张表中没有匹配的记录，那么结果集中将包含此记录，但所有另一张表的列都为空。也就是左右链接结合在一起</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240327162953452.png" alt="image-20240327162953452"></p>
<p><strong>值得注意的数MySQL不支持FULL JION</strong></p>
<h6 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h6><p>如果是根据相同数据进行连接，可用以下方式：</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240327163159104.png" alt="image-20240327163159104"></p>
<h3 id="1-4-数据库的使用"><a href="#1-4-数据库的使用" class="headerlink" title="1.4 数据库的使用"></a>1.4 数据库的使用</h3><h4 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h4><pre><code class="sql">SHOW DATABASES;

CREATE DATABASE my_db;

USE my_db;

SHOW TABLES;

DESCRIBE my_table;
</code></pre>
<h4 id="域"><a href="#域" class="headerlink" title="域"></a>域</h4><blockquote>
<p>域分为两种，指的是表中所能存贮的数据类型。分别是标准域和用户定义域</p>
</blockquote>
<h5 id="标准域"><a href="#标准域" class="headerlink" title="标准域"></a>标准域</h5><ol>
<li><h6 id="整数类型："><a href="#整数类型：" class="headerlink" title="整数类型："></a><strong>整数类型</strong>：</h6><ul>
<li><code>TINYINT</code>: 一个字节大小的整数，范围为-128到127（有符号）或0到255（无符号）。</li>
<li><code>SMALLINT</code>: 两个字节大小的整数，范围为-32768到32767（有符号）或0到65535（无符号）。</li>
<li><code>MEDIUMINT</code>: 三个字节大小的整数，范围为-8388608到8388607（有符号）或0到16777215（无符号）。</li>
<li><code>INT</code>或<code>INTEGER</code>: 四个字节大小的整数，范围为-2147483648到2147483647（有符号）或0到4294967295（无符号）。</li>
<li><code>BIGINT</code>: 八个字节大小的整数，范围为-9223372036854775808到9223372036854775807（有符号）或0到18446744073709551615（无符号）。</li>
</ul>
</li>
<li><h6 id="浮点数类型："><a href="#浮点数类型：" class="headerlink" title="浮点数类型："></a><strong>浮点数类型</strong>：</h6><ul>
<li><code>FLOAT</code>: 单精度浮点数，约-3.4E38到-1.2E-38，0和1.2E-38到3.4E38的范围。</li>
<li><code>DOUBLE</code>或<code>REAL</code>: 双精度浮点数，约-1.79E308到-2.23E-308，0和2.23E-308到1.79E308的范围。</li>
</ul>
</li>
<li><h6 id="定点数类型："><a href="#定点数类型：" class="headerlink" title="定点数类型："></a><strong>定点数类型</strong>：</h6><ul>
<li><code>DECIMAL</code>或<code>NUMERIC</code>: 固定精度小数，例如DECIMAL(10,2)表示总共10位数字，其中有2位是小数部分。</li>
</ul>
</li>
<li><h6 id="字符串类型："><a href="#字符串类型：" class="headerlink" title="字符串类型："></a><strong>字符串类型</strong>：</h6><ul>
<li><code>CHAR</code>: 固定长度的字符串，最多255个字符。</li>
<li><code>VARCHAR</code>: 可变长度的字符串，最多65535个字符。</li>
<li><code>TEXT</code>: 较长的文本数据，最多65535个字符。</li>
<li><code>BLOB</code>: 用于二进制数据的较长字段，最多65535个字节。</li>
</ul>
</li>
<li><h6 id="日期与时间类型："><a href="#日期与时间类型：" class="headerlink" title="日期与时间类型："></a><strong>日期与时间类型</strong>：</h6><ul>
<li><code>DATE</code>: 日期，范围从’1000-01-01’到’9999-12-31’。</li>
<li><code>TIME</code>: 时间，范围从’-838:59:59’到’838:59:59’。</li>
<li><code>DATETIME</code>: 日期和时间的组合，范围从’1000-01-01 00:00:00’到’9999-12-31 23:59:59’。</li>
<li><code>TIMESTAMP</code>: 时间戳，范围从’1970-01-01 00:00:01’ UTC到’2038-01-19 03:14:07’ UTC。</li>
</ul>
</li>
</ol>
<h5 id="用户定义域"><a href="#用户定义域" class="headerlink" title="用户定义域"></a>用户定义域</h5><pre><code class="sql">CREATE DOMAIN DomainName [AS] ElementaryDomain [DEFAULT
DefaultValue ] [CHECK (Constraints) ]
</code></pre>
<p>需要注意的是这在MySQL中并不支持</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326145442524.png" alt="image-20240326145442524"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326145528316.png" alt="image-20240326145528316"></p>
<h4 id="表的创建"><a href="#表的创建" class="headerlink" title="表的创建"></a>表的创建</h4><h5 id="通式"><a href="#通式" class="headerlink" title="通式"></a>通式</h5><pre><code class="sql">CREATE TABLE table_name (
    column1_name datatype1 [DEFAULT default_value1] [column1_constraints],
    column2_name datatype2 [DEFAULT default_value2] [column2_constraints],
    ...
    [table_constraints]
);
</code></pre>
<ul>
<li><code>CREATE TABLE table_name</code>: 创建一个名为<code>table_name</code>的表。</li>
<li><code>column1_name</code>, <code>column2_name</code>, …: 表中的列名。</li>
<li><code>datatype1</code>, <code>datatype2</code>, …: 列的数据类型。</li>
<li><code>[DEFAULT default_value1]</code>, <code>[DEFAULT default_value2]</code>, …: 可选的设置列的默认值。</li>
<li><code>[column1_constraints]</code>, <code>[column2_constraints]</code>, …: 可选的设置列级别的约束条件。</li>
<li><code>[table_constraints]</code>: 可选的设置表级别的约束条件，比如主键、外键等。</li>
</ul>
<h6 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h6><pre><code class="sql">CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    salary DECIMAL(10, 2) DEFAULT 0.00
);
</code></pre>
<p><code>id</code>列的数据类型是<code>INT</code>，并且被指定为主键；<code>name</code>列的数据类型是<code>VARCHAR</code>，长度为50；<code>salary</code>列的数据类型是<code>DECIMAL</code>，并且设置了默认值为0.00。</p>
<h5 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h5><h6 id="主键约束（Primary-Key-Constraint）："><a href="#主键约束（Primary-Key-Constraint）：" class="headerlink" title="主键约束（Primary Key Constraint）："></a><strong>主键约束（Primary Key Constraint）</strong>：</h6><ul>
<li>主键约束用于唯一标识表中的每一行数据，并确保每个主键值都是唯一且不为空的。</li>
<li>一个表只能有一个主键，且主键列的值不能为NULL。</li>
<li>通常在创建表时通过指定PRIMARY KEY关键字来定义主键约束。</li>
</ul>
<pre><code class="sql">CREATE TABLE students (
    student_id INT PRIMARY KEY,
    student_name VARCHAR(50),
    age INT
);
</code></pre>
<p>在这个例子中，<code>student_id</code>被定义为主键，确保每个学生的ID是唯一且不为空的。</p>
<h6 id="唯一约束（Unique-Constraint）："><a href="#唯一约束（Unique-Constraint）：" class="headerlink" title="唯一约束（Unique Constraint）："></a><strong>唯一约束（Unique Constraint）</strong>：</h6><ul>
<li>唯一约束确保指定列或列组中的值是唯一的，但允许NULL值。</li>
<li>一个表可以有多个唯一约束，唯一约束可以是单列或多列的组合。</li>
<li>通常在创建表时通过指定UNIQUE关键字来定义唯一约束。</li>
</ul>
<pre><code class="sql">CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    employee_name VARCHAR(50),
    email VARCHAR(100) UNIQUE
);
</code></pre>
<p>在这个例子中，<code>email</code>被定义为唯一约束，确保每个员工的电子邮件地址是唯一的。</p>
<h6 id="外键约束（Foreign-Key-Constraint）："><a href="#外键约束（Foreign-Key-Constraint）：" class="headerlink" title="外键约束（Foreign Key Constraint）："></a><strong>外键约束（Foreign Key Constraint）</strong>：</h6><ul>
<li>外键约束用于确保一个表中的数据引用另一个表中存在的数据。</li>
<li>外键约束定义了两个表之间的关系，通常是将一个表的主键列作为另一个表的外键。</li>
<li>外键约束可用于确保引用完整性，即保证引用的数据是有效的。</li>
<li>通常在创建表时通过指定FOREIGN KEY关键字来定义外键约束。</li>
</ul>
<pre><code class="sql">CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    order_date DATE,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
</code></pre>
<p>在这个例子中，<code>customer_id</code>列被定义为外键，确保在<code>orders</code>表中的每个订单都引用<code>customers</code>表中存在的有效的客户。</p>
<h6 id="检查约束（Check-Constraint）："><a href="#检查约束（Check-Constraint）：" class="headerlink" title="检查约束（Check Constraint）："></a><strong>检查约束（Check Constraint）</strong>：</h6><ul>
<li>检查约束用于限制列中允许存储的值的范围或条件。</li>
<li>可以使用各种条件表达式来定义检查约束，例如比较运算符、逻辑运算符等。</li>
<li>检查约束可用于确保数据满足特定的业务规则或条件。</li>
<li>通常在创建表时通过指定CHECK关键字来定义检查约束。</li>
</ul>
<pre><code class="sql">CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    order_date DATE,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
</code></pre>
<p>在这个例子中，<code>customer_id</code>列被定义为外键，确保在<code>orders</code>表中的每个订单都引用<code>customers</code>表中存在的有效的客户。</p>
<h6 id="默认约束（Default-Constraint）："><a href="#默认约束（Default-Constraint）：" class="headerlink" title="默认约束（Default Constraint）："></a><strong>默认约束（Default Constraint）</strong>：</h6><ul>
<li>默认约束用于在插入新行时为列提供默认值。</li>
<li>如果插入语句未指定某个列的值，则会使用默认约束指定的默认值。</li>
<li>可以在创建表时或后续修改表结构时添加默认约束。</li>
</ul>
<pre><code class="sql">CREATE TABLE customers (
    customer_id INT PRIMARY KEY,
    customer_name VARCHAR(50),
    status VARCHAR(20) DEFAULT &#39;active&#39;
);
</code></pre>
<p>在这个例子中，<code>status</code>列被定义了默认约束，如果在插入新的客户记录时没有指定状态，则会默认设置为’active’。</p>
<h6 id="NOT-NULL-约束："><a href="#NOT-NULL-约束：" class="headerlink" title="NOT NULL 约束："></a><strong>NOT NULL 约束</strong>：</h6><blockquote>
<p>确保列不能有 NULL 值。</p>
</blockquote>
<pre><code class="sql">ALTER TABLE table_name
MODIFY column_name datatype NOT NULL;
</code></pre>
<h5 id="约束条件的添加格式"><a href="#约束条件的添加格式" class="headerlink" title="约束条件的添加格式"></a>约束条件的添加格式</h5><p><strong>在列定义中直接添加约束</strong>： 在创建表时，在列定义的末尾添加约束条件。例如，<code>PRIMARY KEY</code>、<code>UNIQUE</code>、<code>CHECK</code>和<code>DEFAULT</code>约束可以直接在列定义中指定。</p>
<pre><code class="sql">CREATE TABLE example (
    id INT PRIMARY KEY,
    unique_column VARCHAR(50) UNIQUE,
    age INT CHECK (age &gt;= 0),
    default_column VARCHAR(20) DEFAULT &#39;default_value&#39;
);
</code></pre>
<p><strong>在表级别指定约束</strong>： 可以在创建表的时候，通过指定<code>CONSTRAINT</code>关键字，并提供一个约束名来添加约束。</p>
<pre><code class="sql">CREATE TABLE example (
    id INT,
    unique_column VARCHAR(50),
    age INT,
    default_column VARCHAR(20),
    CONSTRAINT pk_example PRIMARY KEY (id),
    CONSTRAINT uk_example UNIQUE (unique_column),
    CONSTRAINT chk_age CHECK (age &gt;= 0),
    CONSTRAINT df_default DEFAULT &#39;default_value&#39; FOR default_column
);
</code></pre>
<p><strong>在后续的ALTER TABLE语句中添加约束</strong>： 也可以使用<code>ALTER TABLE</code>语句来在已经存在的表上添加约束条件。</p>
<pre><code class="sql">ALTER TABLE example
ADD CONSTRAINT fk_example(约束的名称) FOREIGN KEY (foreign_key_column) REFERENCES other_table(id);
</code></pre>
<p>在创建表的时候，我们可以直接使用<code>FOREIGN KEY</code>关键字来定义外键约束，而不需要显式地给这个约束命名。但是，当我们在表创建后使用<code>ALTER TABLE</code>语句来添加外键约束时，我们需要使用<code>CONSTRAINT</code>关键字并为这个约束指定一个名称，如<code>FK_StudentID</code>。</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326205604195.png" alt="image-20240326205604195"></p>
<h4 id="数据插入（无法添加属性）"><a href="#数据插入（无法添加属性）" class="headerlink" title="数据插入（无法添加属性）"></a>数据插入（无法添加属性）</h4><pre><code class="sql">INSERT INTO table_name [ (attribute_list) ] VALUES (list_of_values);
INSERT INTO table_name SELECT …;
</code></pre>
<p><code>INSERT INTO table_name</code>: 指定要插入数据的表名。</p>
<p><code>[ (attribute_list) ]</code>: 可选项，指定要插入数据的列名列表。如果省略了列名列表，则假定你将提供与表中列的数量和顺序相匹配的值。如果提供了列名列表，则你需要按照相同的顺序提供值。</p>
<p><code>VALUES (list_of_values)</code>: 用于提供要插入的值。这些值按顺序对应于<code>attribute_list</code>中指定的列名。每个值可以是一个具体的值，或者是一个子查询的结果。如果插入多行数据，则在<code>VALUES</code>子句中用逗号分隔每一行的值。</p>
<p><code>INSERT INTO table_name SELECT …</code>: 这种形式允许你通过执行一个SELECT查询来插入数据。查询结果将作为新行插入到表中。</p>
<h5 id="使用值（Using-values）"><a href="#使用值（Using-values）" class="headerlink" title="使用值（Using values）:"></a>使用值（Using values）:</h5><pre><code class="sql">INSERT INTO table_name (attribute_list) VALUES (list_of_values);


INSERT INTO department (deptno, deptname) VALUES (13, &#39;Finance&#39;);
</code></pre>
<h5 id="使用查询结果（Using-a-query）："><a href="#使用查询结果（Using-a-query）：" class="headerlink" title="使用查询结果（Using a query）："></a>使用查询结果（Using a query）：</h5><pre><code class="sql">INSERT INTO table_name SELECT …;

INSERT INTO londonproducts (SELECT code, description FROM product WHERE product_area = &#39;London&#39;);
</code></pre>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326211543023.png" alt="image-20240326211543023"></p>
<h4 id="表结构修改"><a href="#表结构修改" class="headerlink" title="表结构修改"></a>表结构修改</h4><h5 id="ALTER-TABLE："><a href="#ALTER-TABLE：" class="headerlink" title="ALTER TABLE："></a><strong>ALTER TABLE</strong>：</h5><p>这个命令用于更改表中的属性或约束。例如，如果你想在已存在的表 <code>students</code> 中添加一个新的列 <code>email</code>，你可以这样做：</p>
<pre><code class="sql">ALTER TABLE students
ADD email VARCHAR(255);
</code></pre>
<h5 id="DROP-DATABASE："><a href="#DROP-DATABASE：" class="headerlink" title="DROP DATABASE："></a><strong>DROP DATABASE</strong>：</h5><p>这个命令用于删除整个数据库。例如，如果你想删除名为 <code>old_database</code> 的数据库，你可以这样做：</p>
<pre><code class="sql">DROP DATABASE old_database;
</code></pre>
<p>请注意，这将删除数据库及其所有内容，包括所有的表和数据，这个操作是不可逆的。</p>
<h5 id="DROP-TABLE："><a href="#DROP-TABLE：" class="headerlink" title="DROP TABLE："></a><strong>DROP TABLE</strong>：</h5><p>这个命令用于删除整个表及其内容。例如，如果你想删除 <code>students</code> 表，你可以这样做：</p>
<pre><code class="sql">DROP TABLE students;
</code></pre>
<h4 id="数据更新"><a href="#数据更新" class="headerlink" title="数据更新"></a>数据更新</h4><pre><code class="sql">UPDATE table_name
SET attribute = &lt;expression|SELECT…|NULL|DEFAULT&gt;
&#123;, attribute = &lt;expression|SELECT…|NULL|DEFAULT&gt;&#125; 
[ WHERE condition ];
</code></pre>
<p><code>UPDATE table_name</code>: 指定要更新数据的表名。</p>
<p><code>SET attribute = &lt;expression|SELECT…|NULL|DEFAULT&gt;</code>: 定义要更新的列以及它们的新值。<code>attribute</code>是表中的列名，<code>&lt;expression|SELECT…|NULL|DEFAULT&gt;</code>表示可以是表达式、SELECT查询语句、NULL或DEFAULT。这意味着你可以使用一个固定的值、一个基于现有数据计算的表达式、从其他表中检索的值、NULL或默认值。如果要更新多个列，可以在<code>SET</code>子句中使用逗号分隔。</p>
<p><code>[ WHERE condition ]</code>: 可选的条件，指定要更新的行。只有满足条件的行才会被更新。如果省略了条件，则所有行都会被更新。</p>
<h5 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h5><p>假设我们有一个名为<code>employees</code>的表，包含<code>employee_id</code>、<code>employee_name</code>和<code>salary</code>三列。现在我们想要将<code>salary</code>列的值增加10%。我们可以这样做：</p>
<pre><code class="sql">UPDATE employees
SET salary = salary * 1.1;
</code></pre>
<pre><code class="sql">UPDATE Students
SET Major = &#39;Physics&#39;
WHERE Name = &#39;John Doe&#39;;
</code></pre>
<h4 id="数据删除"><a href="#数据删除" class="headerlink" title="数据删除"></a>数据删除</h4><pre><code class="sql">DELETE FROM table_name [ WHERE condition ]
</code></pre>
<p><code>DELETE FROM table_name</code>: 指定要从中删除行的表名。</p>
<p><code>[ WHERE condition ]</code>: 可选项，指定要删除的行的条件。只有满足条件的行才会被删除。如果省略了条件，则所有行都会被删除</p>
<h5 id="例子-3"><a href="#例子-3" class="headerlink" title="例子"></a>例子</h5><pre><code class="sql">DELETE FROM department WHERE deptname = &#39;Production&#39;;
</code></pre>
<p>例子将从department表中删除deptname为’Production’的所有行，即删除生产部门。</p>
<pre><code class="sql">DELETE FROM department WHERE deptno NOT IN (SELECT deptno FROM employee);
</code></pre>
<p>这个例子将从<code>department</code>表中删除那些在<code>employee</code>表中不存在的部门。通过子查询<code>(SELECT deptno FROM employee)</code>，我们获取了存在员工的部门号，然后通过<code>NOT IN</code>条件将不在这个列表中的部门删除。</p>
<pre><code class="sql">DROP TABLE department
</code></pre>
<p>数据全删</p>
<h3 id="1-5-表间运算"><a href="#1-5-表间运算" class="headerlink" title="1.5 表间运算"></a>1.5 表间运算</h3><h4 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h4><blockquote>
<p>维度（degree）即为列数，元组（tuples）即为行数</p>
</blockquote>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326214002702.png" alt="image-20240326214002702"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326214013367.png" alt="image-20240326214013367"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240326214031424.png" alt="image-20240326214031424"></p>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2023 - 2024 知更白翎の屋
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;知更白翎
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
<canvas
    id="fireworks"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
></canvas>
<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
<script src="/js/fireworks.min.js"></script>
<script src="/js/<file>"></script>
<link rel="stylesheet" href="/css/<file>" />
</html>
